using Content.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Prototypes;
using Robust.Client.AutoGenerated;

namespace Content.Client.Communications.UI;

[GenerateTypedNameReferences]
public sealed partial class CommunicationsEmergencyShuttleWindow : FancyWindow
{
    public Action<string>? OnEmergency;

    public CommunicationsEmergencyShuttleWindow(IPrototypeManager proto)
    {
        RobustXamlLoader.Load(this);

        ReasonBoxEnter.OnPressed += _ =>
        {
            if (ReasonBox.Text.Length > 5)
                OnEmergency?.Invoke(ReasonBox.Text);
        };
    }
}
